(function(b){var d="open"in document.createElement("details"),e;b.fn.details=function(c){"open"==c&&(d?this.prop("open",!0):this.trigger("open"));"close"==c&&(d?this.prop("open",!1):this.trigger("close"));"init"==c&&e(b(this));if(!c)return d?this.open:this.hasClass("open")};e=function(c){c.filter(".animated").each(function(){var a=b(this),c=a.children("summary").remove();a.html("<div class=details-wrapper>"+a.html()+"</div>").prepend(c)}).on("open.details",function(){var a=b(this),c=a.children(".details-wrapper");
c.hide();setTimeout(function(){c.slideDown(a.data("animation-speed"))},0)}).on("close.details",function(){var a=b(this),c=a.children(".details-wrapper");setTimeout(function(){a.prop("open",!0).addClass("open");c.slideUp(a.data("animation-speed"),function(){a.prop("open",!1).removeClass("open")})},0)});if(d)b("body").on("click","summary",function(){var a=b(this).parent();a.prop("open")?a.trigger("close"):a.trigger("open")});else b("html").addClass("no-details"),b("head").prepend('<style>details{display:block}summary{cursor:pointer}details>summary::before{content:"\u25ba"}details.open>summary::before{content:"\u25bc"}details:not(.open)>:not(summary){display:none}</style>'),
c.on("open.details",function(){b(this).addClass("open").trigger("change.details")}).on("close.details",function(){b(this).removeClass("open").trigger("change.details")}).on("toggle.details",function(){var a=b(this);a.hasClass("open")?a.trigger("close"):a.trigger("open")}).each(function(){var a=b(this);a.children("summary").length||a.prepend("<summary>Details</summary>")}).children("summary").click(function(){b(this).parent().trigger("toggle")}).filter(":not(tabindex)").attr("tabindex",0).end().keyup(function(a){(32==
a.keyCode||13==a.keyCode&&!b.browser.opera)&&b(this).parent().trigger("toggle")}).end().contents(":not(summary)").filter(function(){return 3===this.nodeType&&/[^\t\n\r ]/.test(this.data)}).wrap("<span>").end().end().filter(":not([open])").prop("open",!1).end().filter("[open]").addClass("open").prop("open",!0).end(),b.browser.msie&&9>b.browser.msie&&c.on("open.details",function(){b(this).children().not("summary").show()}).on("close.details",function(){b(this).children().not("summary").hide()}).filter(":not(.open)").children().not("summary").hide()};
e(b("details"))})(jQuery);